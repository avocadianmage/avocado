<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:AvocadoFramework"
    xmlns:engine="clr-namespace:AvocadoFramework.Engine">
    
    <!-- Configuration settings. -->
    <local:Config x:Key="Config" />
    
    <!-- Styling. -->
    <Style TargetType="{x:Type engine:GlassPane}">
        
        <!-- Properties. -->
        <Setter Property="AllowsTransparency" Value="True" />
        <Setter Property="BorderBrush">
            <Setter.Value>
                <SolidColorBrush 
                    Color="{Binding 
                        Source={StaticResource Config}, 
                        Path=InactiveBorderColor}" />
            </Setter.Value>
        </Setter>
        <Setter 
            Property="Opacity" 
            Value="{Binding 
                Source={StaticResource Config}, 
                Path=MinOpacity}" />
        <Setter Property="ResizeMode" Value="CanMinimize" />
        <Setter Property="WindowStyle" Value="None" />
        
        <!-- Template. -->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type engine:GlassPane}">

                    <!-- Layout. -->
                    <Grid>
                        
                        <!-- Border. -->
                        <Border 
                        Background="Black"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="2"
                        Margin="2"
                        CornerRadius="1">
                            <Border.Effect>
                                <BlurEffect Radius="3" />
                            </Border.Effect>
                        </Border>
                        
                        <!-- Content. -->
                        <Grid Margin="12,10,12,10">
                            <ContentPresenter />
                        </Grid>
                        
                    </Grid>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
        
    </Style>
    
</ResourceDictionary>
